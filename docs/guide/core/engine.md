# Engine3D
`Engine3D` это единственный глобальный экземпляр ядра движка, со следующими основными методами:
1. Вызов `Engine3D.init()` для инициализации движка
2. Вызов `Engine3D.startRenderView()` для запуска цикла рендеринга view
3. `Engine3D.res` загружает сетевые текстуры или модельные ресурсы, смотри [Загрузка ресурсов](/guide/resource/Readme)
4. `Engine3D.inputSystem` управляет событиями пользовательского ввода, см. [Взаимодействие](/guide/interaction/Readme)
5. `Engine3D.setting` конфигурирует функции связанные с рендерингом, см. больше в [Config](/guide/core/config)

## Инициализация
Используйте метод `Engine3D.init()` для инициализации движка. Параметры по умолчанию могут быть пустыми.

Инициализация двигателя требует запроса на устройство `GPU`, и запрос инициализации для `GPU` устройства это асинхронный процесс, так что это нужно вызывать асинхронно. Мы рекомендуем использовать `async/await` для этого вызова.

```ts
Engine3D.init().then(()=>{
    // ...
})
// Or
async function run(){
    await Engine3D.init();
    // ...
}
run()
```

## Render Loop Callback
Чтобы получить обратный вызов основного цикла рендеринга, вы можете передавать параметры при инициализации и выполнить пользовательскую логику в обратном вызове.

```ts
await Engine3D.init({
    beforeRender: ()=>{
        // Обратный вызов перед каждым рендерингом кадра
    },
    renderLoop: ()=>{
        // Обратный вызов для каждого кадра
    },
    lateRender: ()=>{
        // Обратный вызов после каждого рендеринга кадра
    }
});
```

## Config Canvas
В дополнение к настройке обратного вызова рендеринга, вы также можете указать «Canvas», который будет отображаться при инициализации.Если не указано, непрозрачный `canvas`, который покрывает все окно, будет создан по умолчанию.

```ts
await Engine3D.init({
    canvasConfig:{
        canvas: document.getElementById("xxx"), // Укажите элемент Canvas, вы можете настроить размер или макет canvas
        alpha: true, // Прозрачный фон, по умолчанию false
        zIndex: 1, // CSS z-index, default 0
        backgroundImage: "path/to/bg", // Фоновое изображение, когда альфа прозрачна
        devicePixelRatio: 1 // Rendering DPR, default window.devicePixelRatio
    }
});
```
> Ybprbq `devicePixelRatio` может эффективно снизить давление рендеринга, улучшить производительность рендеринга, но в то же время разрешение на рендеринг также уменьшится, может увеличить эффект антиалиасинга

Для получения более подробной конфигурации, пожалуйста, см. [CanvasConfig](/api/types/CanvasConfig)

## Старт рендеринга
После инициализированного движка вам необходимо создать [View3D](/api/classes/View3D) чтобы начать рендеринг. Для `View3D` нужна хотя бы одна сцена [Scene3D](/guide/core/scene) и одна камера [Camera3D](/api/classes/Camera3D) для старта задчи рендеринга, базовое использование выглядит так:

```ts
await Engine3D.init();
// Создание сцены
this.scene = new Scene3D();

// Старт рендеринга
let view = new View3D();
view.scene = this.scene;
view.camera = this.camera;
Engine3D.startRenderView(view);

// Пауза цикла рендеринга
Engine3D.pause();
// Возобновление цикла рендеринга
Engine3D.resume();
```
---
См. больше в [Engine3D](/api/classes/Engine3D) API



